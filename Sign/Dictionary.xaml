<ResourceDictionary xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
                    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
                    xmlns:sys="clr-namespace:System;assembly=mscorlib"
                    xmlns:shell="http://schemas.microsoft.com/winfx/2006/xaml/presentation/shell"
                    xmlns:local="clr-namespace:Sign" xmlns:d="http://schemas.microsoft.com/expression/blend/2008" xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" mc:Ignorable="d">

    <!--图标的path资源-->
    <sys:String x:Key="maximum">F1 M 16.559,14.250 L 0.937,14.250 C 0.558,14.250 0.250,13.942 0.250,13.563 L 0.250,0.937 C 0.250,0.558 0.558,0.250 0.937,0.250 L 16.559,0.250 C 16.938,0.250 17.246,0.558 17.246,0.937 L 17.246,13.563 C 17.246,13.942 16.938,14.250 16.559,14.250 Z</sys:String>
    <sys:String x:Key="close">F1 M 14.177,0.177 L 0.177,14.177 M 0.177,0.177 L 14.177,14.177</sys:String>
    <sys:String x:Key="minimum">F1 M 0,7.5 L 17,7.5</sys:String>
    <sys:String x:Key="restore">F1 M 3.625,3.623 L 3.625,0.125 M 14.125,10.625 L 10.618,10.625 M 14.125,0.125 L 14.125,10.625 M 3.625,0.125 L 14.125,0.125 M 10.618,14.125 L 0.125,14.125 L 0.125,3.623 L 10.618,3.623 L 10.618,14.125 Z</sys:String>

    <!--标题栏的背景-->
    <ImageBrush x:Key="captionBrushLeft" ImageSource="image/620.png" />
    <ImageBrush x:Key="captionBrushRight" ImageSource="image/500.png" />

    <!--窗口style-->
    <Style x:Key="WindowStyle" TargetType="{x:Type Window}">
        <Setter Property="MinWidth" Value="680"/>
        <Setter Property="shell:WindowChrome.WindowChrome">
            <Setter.Value>
                <!--只有右下两个方向可以拉伸-->
                <shell:WindowChrome ResizeBorderThickness="0,0,6,6" CaptionHeight="44" CornerRadius="0" GlassFrameThickness="4,0,4,4" />
            </Setter.Value>
        </Setter>
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="{x:Type Window}">
                    <Border x:Name="windowBorder" BorderBrush="{TemplateBinding BorderBrush}" BorderThickness="0" Background="{TemplateBinding Background}">
                        <Grid>
                            <Grid.RowDefinitions>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="*"/>
                            </Grid.RowDefinitions>
                            <Border x:Name="CaptionBorder" Height="{Binding (shell:WindowChrome.WindowChrome).CaptionHeight, RelativeSource={RelativeSource TemplatedParent}}">
                                <Grid x:Name="CaptionGrid">
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition/>
                                        <ColumnDefinition Width="500"/>
                                    </Grid.ColumnDefinitions>
                                    <StackPanel Grid.Row="0" Orientation="Horizontal" Background="{StaticResource captionBrushLeft}">
                                        <Grid Margin="15,0,10,0"  Height="28" Width="25">
                                            <!--海军锚图标-->
                                            <Canvas>
                                                <Path Fill="Transparent" StrokeThickness="1" Stroke="#FFFFFF" Data="F1 M 12.372,2.290 C 11.653,2.290 11.069,2.875 11.069,3.593 C 11.069,4.311 11.653,4.896 12.372,4.896 C 13.090,4.896 13.674,4.311 13.674,3.593 C 13.674,2.875 13.090,2.290 12.372,2.290 Z M 12.205,27.498 C 11.997,27.433 7.108,25.846 1.461,19.546 C 1.408,19.551 1.352,19.554 1.294,19.554 C 0.815,19.554 0.428,19.352 0.204,18.986 C -0.210,18.310 0.001,17.239 0.885,15.513 L 1.345,14.615 L 1.932,15.436 C 3.587,17.752 6.895,21.425 8.723,21.425 C 8.803,21.425 8.879,21.418 8.951,21.403 C 9.135,21.229 10.421,19.698 10.480,11.091 L 6.510,11.091 L 3.746,8.328 L 10.934,8.328 L 10.934,7.034 C 9.706,6.748 8.048,5.759 8.048,3.391 C 8.048,0.888 10.340,-0.000 12.302,-0.000 C 12.341,-0.000 12.370,0.000 12.389,0.001 C 12.408,0.000 12.437,-0.000 12.477,-0.000 C 12.852,-0.000 13.824,0.043 14.749,0.443 C 16.045,1.002 16.729,2.021 16.729,3.391 C 16.729,5.759 15.071,6.748 13.844,7.034 L 13.844,8.328 L 21.031,8.328 L 18.268,11.091 L 14.300,11.091 C 14.361,19.155 15.616,21.089 15.889,21.414 C 15.942,21.421 15.996,21.425 16.054,21.425 L 16.054,21.425 C 17.886,21.425 21.193,17.751 22.847,15.436 L 23.434,14.614 L 23.894,15.513 C 24.778,17.240 24.987,18.311 24.574,18.986 C 24.351,19.353 23.963,19.554 23.484,19.554 L 23.484,19.554 C 23.426,19.554 23.371,19.551 23.318,19.546 C 17.670,25.846 12.781,27.433 12.573,27.498 L 12.389,27.556 L 12.205,27.498 Z"/>
                                                <Path Fill="Transparent" StrokeThickness="1" Stroke="#FFFFFF" Data="F1 M 12.372,5.510 C 11.313,5.510 10.454,4.652 10.454,3.593 C 10.454,2.534 11.313,1.676 12.372,1.676 C 13.430,1.676 14.289,2.534 14.289,3.593 C 14.289,4.652 13.430,5.510 12.372,5.510 Z M 23.347,15.794 C 23.347,15.794 18.379,22.748 15.602,21.981 C 15.602,21.981 13.683,20.970 13.683,10.477 L 18.013,10.477 L 19.547,8.943 L 13.229,8.943 L 13.229,6.509 C 13.229,6.509 16.114,6.313 16.114,3.391 C 16.114,0.469 12.389,0.616 12.389,0.616 C 12.389,0.616 8.663,0.469 8.663,3.391 C 8.663,6.313 11.548,6.509 11.548,6.509 L 11.548,8.943 L 5.230,8.943 L 6.765,10.477 L 11.097,10.477 C 11.097,21.564 9.175,21.981 9.175,21.981 C 6.400,22.748 1.432,15.794 1.432,15.794 C -0.540,19.644 1.688,18.877 1.688,18.877 C 7.387,25.341 12.389,26.912 12.389,26.912 C 12.389,26.912 17.392,25.341 23.090,18.877 C 23.090,18.877 25.318,19.644 23.347,15.794 Z"/>
                                            </Canvas>
                                        </Grid>
                                        <TextBlock Foreground="#FFFFFF" VerticalAlignment="Center" FontSize="24.00" FontFamily="FZLiBian-S02"><Run Text="{TemplateBinding Title}"/></TextBlock>
                                    </StackPanel>
                                    <Grid Grid.Column="1" Background="{StaticResource captionBrushRight}">
                                        <StackPanel Margin="10,14" Orientation="Horizontal" HorizontalAlignment="Right">
                                            <!--给PathButton绑定Command-->
                                            <local:PathButton x:Name="PbMinimum" Margin="10,0" Command="{x:Static shell:SystemCommands.MinimizeWindowCommand}" shell:WindowChrome.IsHitTestVisibleInChrome="True"
												PathData="{StaticResource ResourceKey=minimum}" Style="{DynamicResource PathButtonStyle}"/>
                                            <local:PathButton x:Name="PbMaximum" Margin="10,0" Command="{x:Static shell:SystemCommands.MaximizeWindowCommand}" shell:WindowChrome.IsHitTestVisibleInChrome="True"
												PathData="{StaticResource ResourceKey=maximum}" Style="{DynamicResource PathButtonStyle}"/>
                                            <local:PathButton x:Name="PbClose" Margin="10,0" Command="{x:Static shell:SystemCommands.CloseWindowCommand}" shell:WindowChrome.IsHitTestVisibleInChrome="True"
												PathData="{StaticResource ResourceKey=close}" Style="{DynamicResource PathButtonStyle}"/>
                                        </StackPanel>
                                    </Grid>
                                </Grid>
                            </Border>
                            <ContentPresenter Grid.Row="1" ContentTemplate="{TemplateBinding ContentTemplate}" Content="{TemplateBinding Content}" ContentStringFormat="{TemplateBinding ContentStringFormat}"/>
                        </Grid>
                    </Border>
                    <ControlTemplate.Triggers>
                        <!--窗口大小变化时改变最大化按钮的图标-->
                        <Trigger Property="WindowState" Value="Maximized">
                            <Setter TargetName="PbMaximum" Property="PathData" Value="{StaticResource ResourceKey=restore}"/>
                            <Setter TargetName="PbMaximum" Property="Command" Value="{x:Static shell:SystemCommands.RestoreWindowCommand}"/>
                            <!--最大化时调整border宽度，避免窗口进入黑色区域-->
                            <Setter TargetName="windowBorder" Property="BorderThickness" Value="8"/>
                        </Trigger>
                    </ControlTemplate.Triggers>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>


    <!--使用path构建button-->
    <Style x:Key="PathButtonStyle" TargetType="{x:Type local:PathButton}">
        <Setter Property="Background" Value="Transparent"/>
        <Setter Property="BorderThickness" Value="0"/>
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="{x:Type local:PathButton}">
                    <Border x:Name="border" Background="{TemplateBinding Background}" >
                        <Path x:Name="bp" StrokeThickness="1" Stroke="#a6acaf" StrokeMiterLimit="1.0" Data="{Binding PathData, RelativeSource={RelativeSource TemplatedParent}}"/>
                    </Border>
                    <ControlTemplate.Triggers>
                        <!--触发器更改path的属性-->
                        <Trigger Property="IsMouseOver" Value="true">
                            <Setter TargetName="bp" Property="Stroke" Value="white"/>
                            <Setter TargetName="bp" Property="StrokeThickness" Value="1.25"/>
                            <Setter Property="Cursor" Value="Hand"/>
                        </Trigger>
                    </ControlTemplate.Triggers>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>
    
    
    <!--主窗口tabcontrol的style-->
    <Style x:Key="TabControlStyle" TargetType="{x:Type TabControl}">
        <Setter Property="Padding" Value="2"/>
        <Setter Property="HorizontalContentAlignment" Value="Center"/>
        <Setter Property="VerticalContentAlignment" Value="Center"/>
        <Setter Property="Background" Value="White"/>
        <Setter Property="BorderBrush" Value="#FFACACAC"/>
        <Setter Property="BorderThickness" Value="0"/>
        <Setter Property="Foreground" Value="{DynamicResource {x:Static SystemColors.ControlTextBrushKey}}"/>
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="{x:Type TabControl}">
                    <Grid x:Name="templateRoot" ClipToBounds="True" SnapsToDevicePixels="True" KeyboardNavigation.TabNavigation="Local">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="160"/>
                            <ColumnDefinition Width="*"/>
                        </Grid.ColumnDefinitions>
                        <StackPanel x:Name="HeaderPanel" IsItemsHost="True" Background="#e6ebec">
                        </StackPanel>
                        <Border x:Name="ContentPanel" BorderBrush="{TemplateBinding BorderBrush}" BorderThickness="0" Background="{TemplateBinding Background}" KeyboardNavigation.DirectionalNavigation="Contained" Grid.Column="1" KeyboardNavigation.TabIndex="2" KeyboardNavigation.TabNavigation="Local">
                            <ContentPresenter x:Name="PART_SelectedContentHost" ContentTemplate="{TemplateBinding SelectedContentTemplate}" Content="{TemplateBinding SelectedContent}" ContentStringFormat="{TemplateBinding SelectedContentStringFormat}" ContentSource="SelectedContent" Margin="0" SnapsToDevicePixels="{TemplateBinding SnapsToDevicePixels}"/>
                        </Border>
                    </Grid>
                    <ControlTemplate.Triggers>
                        <Trigger Property="IsEnabled" Value="False">
                            <Setter Property="Foreground" Value="{DynamicResource {x:Static SystemColors.GrayTextBrushKey}}"/>
                        </Trigger>
                    </ControlTemplate.Triggers>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>
    
    <!--tabcontrol中tabitem的style-->
    <Style x:Key="listTabItemStyle" TargetType="{x:Type TabItem}">
        <Setter Property="Foreground" Value="Black"/>
        <Setter Property="BorderBrush" Value="#8C8E94"/>
        <Setter Property="HorizontalContentAlignment" Value="Stretch"/>
        <Setter Property="VerticalContentAlignment" Value="Stretch"/>
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="{x:Type TabItem}">
                    <Grid x:Name="templateRoot" SnapsToDevicePixels="true" Margin="0">
                        <!--background不能为x:null，不然tabitem触发区域变小-->
                        <Border x:Name="mainBorder" BorderThickness="0" Background="Transparent">
                            <ContentPresenter ContentSource="Header" Margin="10,0"/>
                        </Border>
                        <Path x:Name="path" HorizontalAlignment="Right" VerticalAlignment="Center" 
                              Visibility="Hidden" StrokeThickness="1" 
                              Fill="White" StrokeMiterLimit="1.0" 
                              Data="F1 M 6,12 L 0,6 L 6,0 L 6,12 Z"/>
                    </Grid>
                    <ControlTemplate.Triggers>
                        <MultiTrigger>
                            <MultiTrigger.Conditions>
                                <Condition Property="IsMouseOver" Value="True"/>
                                <Condition Property="Selector.IsSelected" Value="False"/>
                            </MultiTrigger.Conditions>
                            <Setter Property="Foreground" Value="White"/>
                            <Setter Property="Background" TargetName="mainBorder" Value="#FF90C9E8"/>
                        </MultiTrigger>
                        <Trigger Property="IsSelected" Value="True">
                            <Setter Property="Visibility" TargetName="path" Value="Visible"/>
                            <!--选中后更改字体颜色-->
                            <Setter Property="Foreground" Value="#FFE5E5E5"/>
                            <Setter Property="Background" TargetName="mainBorder" Value="#FF2B6D8F"/>
                        </Trigger>
                    </ControlTemplate.Triggers>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>


</ResourceDictionary>